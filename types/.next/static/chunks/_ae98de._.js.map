{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"sources":["file:///home/edama/dev/next_js_tutorial/network-chat-application/context/NodeContext.tsx"],"sourcesContent":["import React,{createContext,useState,useContext, ReactNode} from \"react\";\nimport type { NodeData } from \"@/types/node_types\";\n\n\ninterface NodeContextType {\n    selectedNode: NodeData | null;\n    setSelectedNode: (node: NodeData | null) => void;\n    allNodes: NodeData[];\n    setAllNodes: (nodes: NodeData[]) => void;\n}\n\nconst NodeContext = createContext<NodeContextType | undefined>(undefined);\n\nexport function NodeProvider({children}:{children:ReactNode}) {\n    const [selectedNode, setSelectedNode] = useState<NodeData | null>(null);\n    const [allNodes, setAllNodes] = useState<NodeData[]>([]);\n   \n    return (\n        <NodeContext.Provider value={{\n            selectedNode,\n            setSelectedNode,\n            allNodes,\n            setAllNodes\n        }}>\n            {children}\n        </NodeContext.Provider>\n    );\n};\n\nexport function useNode() {\n    const context = useContext(NodeContext);\n    return context;\n};\n\nexport {NodeContext};\n"],"names":[],"mappings":";;;;;;AAAA;;;;AAWA,MAAM,4BAAc,CAAA,GAAA,6JAAA,CAAA,gBAAa,AAAD,EAA+B;AAExD,SAAS,aAAa,EAAC,QAAQ,EAAsB;;IACxD,MAAM,CAAC,cAAc,gBAAgB,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAmB;IAClE,MAAM,CAAC,UAAU,YAAY,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAc,EAAE;IAEvD,qBACI,6LAAC,YAAY,QAAQ;QAAC,OAAO;YACzB;YACA;YACA;YACA;QACJ;kBACK;;;;;;AAGb;GAdgB;KAAA;AAgBT,SAAS;;IACZ,MAAM,UAAU,CAAA,GAAA,6JAAA,CAAA,aAAU,AAAD,EAAE;IAC3B,OAAO;AACX;IAHgB"}},
    {"offset": {"line": 50, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 56, "column": 0}, "map": {"version":3,"sources":["file:///home/edama/dev/next_js_tutorial/network-chat-application/components/cytoscape/CytoscapeGraph.tsx"],"sourcesContent":["\"use client\"\n\nimport React, { useEffect, useRef, useState } from \"react\";\nimport { NodeSingular, LayoutOptions } from \"cytoscape\";\nimport cytoscape from \"cytoscape\";\nimport type { NodeData } from \"@/types/node_types\";\nimport cola from 'cytoscape-cola';\nimport { useNode } from \"@/context/NodeContext\";\n\ninterface CytoscapeGraphProps {\n  onNodeClick: (nodeData: NodeData) => void;\n}\n\ninterface GraphData{\n  nodes:{data:{id:string; label:string; color:string}}[],\n  edges:{data:{id:string; source:number; target:number}}[],\n}\n\nconst initialGraphData :GraphData = {\n  nodes:[],\n  edges:[]\n};\n\n//エラーハンドリングは後ほど書く\nasync function fetchNodeData(){\n  try {\n    const response = await fetch(\"http://localhost:3000/api/getnode\",{\n      cache: \"no-cache\",\n    });\n\n    console.log(\"response:\", response);\n    const allNodeData: NodeData[] = await response.json();\n    return allNodeData;\n  } catch(error){\n    console.error(\"Error fetching node data\",error)\n    return [];\n  }\n}\n\nfunction formatNodesForCytoscape(allNodeData: NodeData[]) {\n  if(Array.isArray(allNodeData)&&allNodeData.length>0){\n    return {\n      nodes: allNodeData.map(node => ({\n        data: {\n          id: String(node.id),\n          label: node.label,\n          color: node.color\n        },\n        \n      })),\n      edges:[]\n    };\n  }\n  else{\n    return {\n      nodes: [],\n      edges: []\n    };\n  }\n}   \n\n\nexport default function CytoscapeGraph({ onNodeClick }: CytoscapeGraphProps) {\n  const containerRef = useRef<HTMLDivElement>(null);\n  const cyRef = useRef<cytoscape.Core | null>(null);\n  const [graphData, setGraphData] = useState(initialGraphData);\n  const nodeContext = useNode();\n  \n  useEffect(() => {\n    async function fetchInitialData() {\n      const allNodedata = await fetchNodeData();\n      const formattedData = formatNodesForCytoscape(allNodedata);\n      setGraphData(formattedData);\n      \n      if (nodeContext?.setAllNodes) {\n        nodeContext.setAllNodes(allNodedata);\n      }\n    }\n    \n    fetchInitialData();\n  }, []);\n\n\n  useEffect(() => {\n    if(graphData.nodes.length <= 0) return;\n    if(!containerRef.current) return;\n    if(cyRef.current) return;\n\n    //インスタンスの作成\n    cytoscape.use(cola);\n    const cy = cytoscape({\n      container: containerRef.current,\n      elements: [...graphData.nodes,...graphData.edges],\n      layout: {\n        name: \"cola\",\n        animate: true,\n        fit: false,\n        animateDuration: 500,\n        animateEasing: \"ease-out\",\n        nodeRepulsion: (node: NodeSingular) => 450,\n        gravity: 0.25,\n        idealEdgeLength: 20,\n        centerGraph: true,\n      } as LayoutOptions,\n      style: [\n        {\n          selector: \"node\",\n          style: {\n            \"background-color\": \"data(color)\",\n            label: \"data(label)\",\n            color: \"#fff\",\n            \"text-outline-color\": \"#000\",\n            \"text-outline-width\": 1,\n            \"font-size\": 14,\n            width: 40,\n            height: 40,\n          },\n        },\n        {\n          selector: \"edge\",\n          style: {\n            width: 2,\n            \"line-color\": \"#ccc\",\n            \"curve-style\": \"bezier\",\n          },\n        },\n      ],\n    });\n\n    cyRef.current = cy;\n\n    return () => {\n      if (cyRef.current) {\n        cyRef.current.destroy();\n        cyRef.current = null;\n      }\n    };\n\n  }, [graphData]);\n\n  useEffect(() => {\n\n    const cy = cyRef.current;\n    if (cy === null) return;\n\n    cy.on(\"tap\", \"node\", (event) => {\n      const node = event.target;\n      const nodeData: NodeData = {\n        id: node.id(),\n        label: node.data(\"label\"),\n        query: node.data(\"label\"),\n        response: node.data(\"response\"),\n        from: node.connectedEdges().length,\n        color: node.data(\"color\"),\n      };\n      onNodeClick(nodeData);\n    });\n  }, [graphData]);\n\n  return <div ref={containerRef} className=\"w-full h-full\" />;\n}\n\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 232, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 238, "column": 0}, "map": {"version":3,"sources":["file:///home/edama/dev/next_js_tutorial/network-chat-application/lib/utils.ts"],"sourcesContent":["import { clsx, type ClassValue } from \"clsx\"\nimport { twMerge } from \"tailwind-merge\"\n\nexport function cn(...inputs: ClassValue[]) {\n  return twMerge(clsx(inputs))\n}\n"],"names":[],"mappings":";;;AAAA;AACA;;;AAEO,SAAS,GAAG,GAAG,MAAoB;IACxC,OAAO,CAAA,GAAA,8JAAA,CAAA,UAAO,AAAD,EAAE,CAAA,GAAA,wIAAA,CAAA,OAAI,AAAD,EAAE;AACtB"}},
    {"offset": {"line": 251, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 257, "column": 0}, "map": {"version":3,"sources":["file:///home/edama/dev/next_js_tutorial/network-chat-application/components/ui/textarea.tsx"],"sourcesContent":["import * as React from \"react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Textarea = React.forwardRef<\n  HTMLTextAreaElement,\n  React.ComponentProps<\"textarea\">\n>(({ className, ...props }, ref) => {\n  return (\n    <textarea\n      className={cn(\n        \"flex min-h-[60px] w-full rounded-md border border-input bg-transparent px-3 py-2 text-base shadow-sm placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 md:text-sm\",\n        className\n      )}\n      ref={ref}\n      {...props}\n    />\n  )\n})\nTextarea.displayName = \"Textarea\"\n\nexport { Textarea }\n"],"names":[],"mappings":";;;;AAAA;AAEA;;;;AAEA,MAAM,yBAAW,8JAAM,UAAU,MAG/B,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE;IAC1B,qBACE,6LAAC;QACC,WAAW,CAAA,GAAA,+GAAA,CAAA,KAAE,AAAD,EACV,6QACA;QAEF,KAAK;QACJ,GAAG,KAAK;;;;;;AAGf;;AACA,SAAS,WAAW,GAAG"}},
    {"offset": {"line": 286, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 292, "column": 0}, "map": {"version":3,"sources":["file:///home/edama/dev/next_js_tutorial/network-chat-application/components/ui/button.tsx"],"sourcesContent":["import * as React from \"react\"\nimport { Slot } from \"@radix-ui/react-slot\"\nimport { cva, type VariantProps } from \"class-variance-authority\"\nimport { cn } from \"@/lib/utils\"\n\nconst buttonVariants = cva(\n  \"inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0\",\n  {\n    variants: {\n      variant: {\n        default:\n          \"bg-primary text-primary-foreground shadow hover:bg-primary/90\",\n        destructive:\n          \"bg-destructive text-destructive-foreground shadow-sm hover:bg-destructive/90\",\n        outline:\n          \"border border-input bg-background shadow-sm hover:bg-accent hover:text-accent-foreground\",\n        secondary:\n          \"bg-secondary text-secondary-foreground shadow-sm hover:bg-secondary/80\",\n        ghost: \"hover:bg-accent hover:text-accent-foreground\",\n        link: \"text-primary underline-offset-4 hover:underline\",\n      },\n      size: {\n        default: \"h-9 px-4 py-2\",\n        sm: \"h-8 rounded-md px-3 text-xs\",\n        lg: \"h-10 rounded-md px-8\",\n        icon: \"h-9 w-9\",\n      },\n    },\n    defaultVariants: {\n      variant: \"default\",\n      size: \"default\",\n    },\n  }\n)\n\nexport interface ButtonProps\n  extends React.ButtonHTMLAttributes<HTMLButtonElement>,\n    VariantProps<typeof buttonVariants> {\n  asChild?: boolean\n}\n\n\n\nconst Button = () => React.forwardRef<HTMLButtonElement, ButtonProps>(\n  ({ className, variant, size, asChild = false, ...props }, ref) => {\n    const Comp = asChild ? Slot : \"button\"\n    return (\n      <Comp\n        className={cn(buttonVariants({ variant, size, className }))}\n        ref={ref}\n        {...props}\n      />\n    )\n\n  }\n)\nButton.displayName = \"Button\"\n\nexport { Button, buttonVariants }\n"],"names":[],"mappings":";;;;;AAAA;AAEA;AACA;AAFA;;;;;;AAIA,MAAM,iBAAiB,CAAA,GAAA,mKAAA,CAAA,MAAG,AAAD,EACvB,ySACA;IACE,UAAU;QACR,SAAS;YACP,SACE;YACF,aACE;YACF,SACE;YACF,WACE;YACF,OAAO;YACP,MAAM;QACR;QACA,MAAM;YACJ,SAAS;YACT,IAAI;YACJ,IAAI;YACJ,MAAM;QACR;IACF;IACA,iBAAiB;QACf,SAAS;QACT,MAAM;IACR;AACF;AAWF,MAAM,SAAS,kBAAM,8JAAM,UAAU,CACnC,CAAC,EAAE,SAAS,EAAE,OAAO,EAAE,IAAI,EAAE,UAAU,KAAK,EAAE,GAAG,OAAO,EAAE;QACxD,MAAM,OAAO,UAAU,mKAAA,CAAA,OAAI,GAAG;QAC9B,qBACE,6LAAC;YACC,WAAW,CAAA,GAAA,+GAAA,CAAA,KAAE,AAAD,EAAE,eAAe;gBAAE;gBAAS;gBAAM;YAAU;YACxD,KAAK;YACJ,GAAG,KAAK;;;;;;IAIf;KAXI;AAaN,OAAO,WAAW,GAAG"}},
    {"offset": {"line": 352, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 358, "column": 0}, "map": {"version":3,"sources":["file:///home/edama/dev/next_js_tutorial/network-chat-application/components/node-controls/NodeManager.tsx"],"sourcesContent":["import React, { useEffect, useRef ,useContext } from \"react\";\nimport { NodeSingular,LayoutOptions } from \"cytoscape\";\nimport cytoscape from \"cytoscape\";\nimport type { NodeData } from \"@/types/node_types\";\nimport cola from 'cytoscape-cola';\nimport { Button } from \"../ui/button\";\nimport { useNode } from \"@/context/NodeContext\";\n\n\ninterface NodeManagerProps {\n    action: 'update' | 'create' | 'delete';\n    nodeData: NodeData;\n}\n\ncytoscape.use( cola );\n\nconst NodeManager: React.FC<NodeManagerProps> = ({ action, nodeData}:NodeManagerProps) => {\n    const Nodecontext = useNode();\n    const cyRef = useRef<cytoscape.Core | null>(null)\n    const cy = cyRef.current\n\n    if (cy === null) return\n\n    const node :NodeData = nodeData;\n\n    const CreateNodes = () => {\n        // let count = randomInt(100).toString();\n      let id = Math.floor(Math.random()*10000)  // 新しいノードの ID\n      console.log(\"id:\",id)\n      let sourceId = node.id\n\n      // デバッグ用出力\n      console.log(\"Existing nodes before add:\", cy.nodes().map(n => n.data()))\n      console.log(\"Existing edges before add:\", cy.edges().map(e => e.data()))\n\n      // 新しいノードとエッジを追加\n      const newNode = cy.add([\n        {\n          group: \"nodes\",\n          data: { id: `${id}`, label: `${id}`, color: \"#33ff57\" },\n        },\n        {\n          group: \"edges\",\n          data: { id: `edge-${sourceId}-${id}`, source: id, target: sourceId },\n        },\n      ])\n\n    //   デバッグ用出力\n      console.log(\"New node added:\", newNode.map(n => n.data()))\n      console.log(\"Existing nodes after add:\", cy.nodes().map(n => n.data()))\n      console.log(\"Existing edges after add:\", cy.edges().map(e => e.data()))\n\n      // ノード追加後にレイアウトを適用（アニメーションなし）\n      const layout = cy.layout(\n        {\n          name: \"cola\",\n          animate: true,\n          fit: false, \n          animeduration: 500, \n          nodeDimensionsIncludeLabels: true, \n          nodeRepulsion: (node: NodeSingular) => 450,\n          gravity: 0.25, \n          maxSimulationTime: 10000000,\n          convergenceThreshold: 1e-9,\n          idealEdgeLength: 20,\n        } as LayoutOptions)\n\n      layout.run()\n\n      // 追加したノードを画面の中心に配置\n      cy.center(cy.$(`#${id}`));\n      // デバッグ用出力\n      // console.log(\"Layout run completed\")\n      // console.log(\"Existing nodes after layout:\", cy.nodes().map(n => n.data()))\n      // console.log(\"Existing edges after layout:\", cy.edges().map(e => e.data()))\n      // console.log(\"clicked\")\n        \n    };\n\n    const UpdateNodes = () => {\n\n    };\n\n    const DeleteNodes = () => {\n\n    };\n\n    const handleAction = () => {\n        switch (action) {\n            case 'create':\n                CreateNodes();\n                break;\n            case 'update':\n                UpdateNodes();\n                break;\n            case 'delete':\n                DeleteNodes();\n                break;\n            default:\n                break;\n\n        };\n    }\n\n    return (\n        <div>\n          <Button onClick={() => NodeManager(action='create',nodeData)}>Create Node</Button>\n        </div>\n      );\n\n}\n\nexport default NodeManager;\n\n\n\n\n"],"names":[],"mappings":";;;;AAAA;AAEA;AAEA;AACA;AACA;;;;;;;;AAQA,yJAAA,CAAA,UAAS,CAAC,GAAG,CAAE,yJAAA,CAAA,UAAI;AAEnB,MAAM,cAA0C,CAAC,EAAE,MAAM,EAAE,QAAQ,EAAkB;;IACjF,MAAM,cAAc,CAAA,GAAA,0HAAA,CAAA,UAAO,AAAD;IAC1B,MAAM,QAAQ,CAAA,GAAA,6JAAA,CAAA,SAAM,AAAD,EAAyB;IAC5C,MAAM,KAAK,MAAM,OAAO;IAExB,IAAI,OAAO,MAAM;IAEjB,MAAM,OAAiB;IAEvB,MAAM,cAAc;QAChB,yCAAyC;QAC3C,IAAI,KAAK,KAAK,KAAK,CAAC,KAAK,MAAM,KAAG,OAAQ,aAAa;;QACvD,QAAQ,GAAG,CAAC,OAAM;QAClB,IAAI,WAAW,KAAK,EAAE;QAEtB,UAAU;QACV,QAAQ,GAAG,CAAC,8BAA8B,GAAG,KAAK,GAAG,GAAG,CAAC,CAAA,IAAK,EAAE,IAAI;QACpE,QAAQ,GAAG,CAAC,8BAA8B,GAAG,KAAK,GAAG,GAAG,CAAC,CAAA,IAAK,EAAE,IAAI;QAEpE,gBAAgB;QAChB,MAAM,UAAU,GAAG,GAAG,CAAC;YACrB;gBACE,OAAO;gBACP,MAAM;oBAAE,IAAI,GAAG,IAAI;oBAAE,OAAO,GAAG,IAAI;oBAAE,OAAO;gBAAU;YACxD;YACA;gBACE,OAAO;gBACP,MAAM;oBAAE,IAAI,CAAC,KAAK,EAAE,SAAS,CAAC,EAAE,IAAI;oBAAE,QAAQ;oBAAI,QAAQ;gBAAS;YACrE;SACD;QAEH,YAAY;QACV,QAAQ,GAAG,CAAC,mBAAmB,QAAQ,GAAG,CAAC,CAAA,IAAK,EAAE,IAAI;QACtD,QAAQ,GAAG,CAAC,6BAA6B,GAAG,KAAK,GAAG,GAAG,CAAC,CAAA,IAAK,EAAE,IAAI;QACnE,QAAQ,GAAG,CAAC,6BAA6B,GAAG,KAAK,GAAG,GAAG,CAAC,CAAA,IAAK,EAAE,IAAI;QAEnE,6BAA6B;QAC7B,MAAM,SAAS,GAAG,MAAM,CACtB;YACE,MAAM;YACN,SAAS;YACT,KAAK;YACL,eAAe;YACf,6BAA6B;YAC7B,eAAe,CAAC,OAAuB;YACvC,SAAS;YACT,mBAAmB;YACnB,sBAAsB;YACtB,iBAAiB;QACnB;QAEF,OAAO,GAAG;QAEV,mBAAmB;QACnB,GAAG,MAAM,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,EAAE,IAAI;IACvB,UAAU;IACV,sCAAsC;IACtC,6EAA6E;IAC7E,6EAA6E;IAC7E,yBAAyB;IAE3B;IAEA,MAAM,cAAc,KAEpB;IAEA,MAAM,cAAc,KAEpB;IAEA,MAAM,eAAe;QACjB,OAAQ;YACJ,KAAK;gBACD;gBACA;YACJ,KAAK;gBACD;gBACA;YACJ,KAAK;gBACD;gBACA;YACJ;gBACI;QAER;;IACJ;IAEA,qBACI,6LAAC;kBACC,cAAA,6LAAC,8HAAA,CAAA,SAAM;YAAC,SAAS,IAAM,YAAY,SAAO,UAAS;sBAAW;;;;;;;;;;;AAIxE;GA9FM;;QACkB,0HAAA,CAAA,UAAO;;;KADzB;uCAgGS"}},
    {"offset": {"line": 481, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 487, "column": 0}, "map": {"version":3,"sources":["file:///home/edama/dev/next_js_tutorial/network-chat-application/components/sidebar/Sidebar.tsx"],"sourcesContent":["import React from \"react\"\nimport { Link, X } from \"react-feather\"\nimport type { NodeData } from \"@/types/node_types\"\nimport { Textarea } from \"../ui/textarea\"\nimport { Label } from \"@radix-ui/react-label\"\nimport { Button } from \"../ui/button\"\nimport NodeManager from \"../node-controls/NodeManager\"\n\n\ninterface SidebarProps {\n    isOpen: boolean\n    onClose: () => void\n    nodeData: NodeData | null\n}\n\n  const ResourceContext = React.createContext(\"\");\n  \n  export default function Sidebar({ isOpen, onClose, nodeData }: SidebarProps) {\n    return (\n      <div\n        className={`fixed top-0 right-0 w-1/3 h-full bg-white shadow-lg transform transition-transform duration-300 ease-in-out z-10 ${\n          isOpen ? \"translate-x-0\" : \"translate-x-full\"\n        }`}\n      >\n        <div className=\"p-6 h-full overflow-auto\">\n          <div className=\"flex justify-between items-center mb-6\">\n            <h2 className=\"text-2xl font-bold\">○○に関する情報</h2>\n            <button onClick={onClose} className=\"p-1 rounded-full hover:bg-gray-100\" aria-label=\"Close sidebar\">\n              <X className=\"h-6 w-6\" />\n            </button>\n          </div>\n  \n          {nodeData ? (\n            <div className=\"space-y-4\">\n              <div className=\"w-16 h-16 rounded-full mb-4\" style={{ backgroundColor: nodeData.color }} />\n\n              <div>\n                <h3 className=\"text-lg font-semibold\">質問:</h3>\n                <p>○○とはなんでしょうか</p>\n              </div>\n\n              <div>\n                <h3 className=\"text-lg font-semibold \">AIの回答:</h3>\n                <p>○○とは△△ということです。</p>\n              </div>\n  \n              <div className=\"grid w-full gap-1.5\">\n                <Label htmlFor=\"message\" className=\"mt-4 font-semibold\">つづけて質問</Label>\n                <Textarea placeholder=\"入力してください\" id=\"message\" />\n                <p className=\"text-sm text-muted-foreground mt-0 text-xs\">\n                  Ctrl + Enterで送信\n                </p>\n                <NodeManager/>\n              </div>\n  \n              {/* <div>\n                <h3 className=\"text-lg font-semibold\">Description</h3>\n                <p>{nodeData.response}</p>\n              </div> */}\n  \n             \n  \n              {/* Additional node information can be added here */}\n              {/* <div className=\"mt-8 p-4 bg-gray-50 rounded-lg\">\n                <h3 className=\"text-lg font-semibold mb-2\">Actions</h3>\n                <div className=\"flex flex-col gap-2\">\n                  <button className=\"px-4 py-2 bg-blue-500 text-white rounded hover:bg-blue-600\">Edit Node</button>\n                  <button className=\"px-4 py-2 bg-gray-200 text-gray-800 rounded hover:bg-gray-300\">\n                    View Connections\n                  </button>\n                </div>\n              </div> */}\n            </div>\n          ) : (\n            <p>Select a node to view details</p>\n          )}\n        </div>\n      </div>\n    )\n  }\n  \n  "],"names":[],"mappings":";;;;AAAA;AAGA;AAGA;AALA;AAGA;;;;;;;AAWE,MAAM,gCAAkB,6JAAA,CAAA,UAAK,CAAC,aAAa,CAAC;AAE7B,SAAS,QAAQ,EAAE,MAAM,EAAE,OAAO,EAAE,QAAQ,EAAgB;IACzE,qBACE,6LAAC;QACC,WAAW,CAAC,iHAAiH,EAC3H,SAAS,kBAAkB,oBAC3B;kBAEF,cAAA,6LAAC;YAAI,WAAU;;8BACb,6LAAC;oBAAI,WAAU;;sCACb,6LAAC;4BAAG,WAAU;sCAAqB;;;;;;sCACnC,6LAAC;4BAAO,SAAS;4BAAS,WAAU;4BAAqC,cAAW;sCAClF,cAAA,6LAAC,yLAAA,CAAA,IAAC;gCAAC,WAAU;;;;;;;;;;;;;;;;;gBAIhB,yBACC,6LAAC;oBAAI,WAAU;;sCACb,6LAAC;4BAAI,WAAU;4BAA8B,OAAO;gCAAE,iBAAiB,SAAS,KAAK;4BAAC;;;;;;sCAEtF,6LAAC;;8CACC,6LAAC;oCAAG,WAAU;8CAAwB;;;;;;8CACtC,6LAAC;8CAAE;;;;;;;;;;;;sCAGL,6LAAC;;8CACC,6LAAC;oCAAG,WAAU;8CAAyB;;;;;;8CACvC,6LAAC;8CAAE;;;;;;;;;;;;sCAGL,6LAAC;4BAAI,WAAU;;8CACb,6LAAC,oKAAA,CAAA,QAAK;oCAAC,SAAQ;oCAAU,WAAU;8CAAqB;;;;;;8CACxD,6LAAC,gIAAA,CAAA,WAAQ;oCAAC,aAAY;oCAAW,IAAG;;;;;;8CACpC,6LAAC;oCAAE,WAAU;8CAA6C;;;;;;8CAG1D,6LAAC,iJAAA,CAAA,UAAW;;;;;;;;;;;;;;;;yCAsBhB,6LAAC;8BAAE;;;;;;;;;;;;;;;;;AAKb;KA9DwB"}},
    {"offset": {"line": 670, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 676, "column": 0}, "map": {"version":3,"sources":["file:///home/edama/dev/next_js_tutorial/network-chat-application/app/test/page.tsx"],"sourcesContent":["\"use client\"\n\n\nimport { useState } from \"react\"\nimport CytoscapeGraph from \"@/components/cytoscape/CytoscapeGraph\"\nimport Sidebar from \"@/components/sidebar/Sidebar\"\nimport type { NodeData } from \"@/types/node_types\"\nimport { NodeProvider } from \"@/context/NodeContext\"\n\n\n\nexport default function Home() {\n  const [sidebarOpen, setSidebarOpen] = useState(false)\n  const [selectedNode, setSelectedNode] = useState<NodeData | null>(null)\n\n  const handleNodeClick = (nodeData: NodeData) => {\n    setSelectedNode(nodeData)\n    setSidebarOpen(true)\n  }\n\n  const closeSidebar = () => {\n    setSidebarOpen(false)\n  }\n\n  return (\n    <NodeProvider>\n      <main className=\"flex min-h-screen flex-col items-center justify-between\">\n        <div className=\"relative flex w-full h-screen\">\n          <div className={`flex-1 transition-all duration-300 ${sidebarOpen ? \"pr-[33.333%]\" : \"\"}`}>\n            <CytoscapeGraph onNodeClick={handleNodeClick} /> \n          </div>\n          <Sidebar isOpen={sidebarOpen} onClose={closeSidebar} nodeData={selectedNode} />\n        </div>\n        \n      </main>\n    </NodeProvider>\n  )\n}"],"names":[],"mappings":";;;;AAGA;AACA;AACA;AAEA;;;AAPA;;;;;AAWe,SAAS;;IACtB,MAAM,CAAC,aAAa,eAAe,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAE;IAC/C,MAAM,CAAC,cAAc,gBAAgB,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAmB;IAElE,MAAM,kBAAkB,CAAC;QACvB,gBAAgB;QAChB,eAAe;IACjB;IAEA,MAAM,eAAe;QACnB,eAAe;IACjB;IAEA,qBACE,6LAAC,0HAAA,CAAA,eAAY;kBACX,cAAA,6LAAC;YAAK,WAAU;sBACd,cAAA,6LAAC;gBAAI,WAAU;;kCACb,6LAAC;wBAAI,WAAW,CAAC,mCAAmC,EAAE,cAAc,iBAAiB,IAAI;kCACvF,cAAA,6LAAC,6IAAA,CAAA,UAAc;4BAAC,aAAa;;;;;;;;;;;kCAE/B,6LAAC,oIAAA,CAAA,UAAO;wBAAC,QAAQ;wBAAa,SAAS;wBAAc,UAAU;;;;;;;;;;;;;;;;;;;;;;AAMzE;GA1BwB;KAAA"}},
    {"offset": {"line": 755, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}}]
}